import Link from "next/link";
import Moment from "react-moment";
import Footer from "../../components/footer";
import Nav from "../../components/nav";
import Seo from "../../components/seo";
import { fetchAPI } from "../../lib/api";
import { getStrapiMedia } from "../../lib/media";

const Writer = ({ writer }) => {
	console.log(writer);

	return (
		<>
			<div className='overflow-x-hidden overflow-y-hidden font-mono text-gray-900 bg-white dark:bg-gray-900 dark:text-gray-100'>
				<div className='grid content-between  h-screen'>
					<Nav />
					<div className='px-4 md:px-28'>
						<img
							className='object-cover w-28 h-28 rounded-full'
							src={getStrapiMedia(writer.attributes.picture)}
						/>
						<p className='py-2 font-bold text-3xl'>{writer.attributes.name}</p>
						<p className='font-bold text-xl text-gray-700 dark:text-gray-200'>
							{writer.attributes.subtitle}
						</p>
						<p className='py-2 text-sm text-gray-600 dark:text-gray-300 text-justify md:w-[50vw]'>
							{writer.attributes.bio}
						</p>
						<div className='flex justify-between md:justify-start py-4 md:space-x-4 items-center text-gray-700 dark:text-gray-300'>
							<Link href={writer.attributes.instagram}>
								<a>
									<div>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='currentColor'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M12.002 21.0409C9.54195 21.0409 9.25195 21.0279 8.29195 20.9859C7.54332 20.9613 6.80439 20.8091 6.10695 20.5359C4.90026 20.0663 3.94609 19.1118 3.47695 17.9049C3.21426 17.2049 3.07257 16.4654 3.05795 15.7179C3.00195 14.7599 3.00195 14.4459 3.00195 12.0049C3.00195 9.53788 3.01495 9.24988 3.05795 8.29488C3.07289 7.54841 3.21457 6.80989 3.47695 6.11088C3.94558 4.90241 4.9013 3.94706 6.10995 3.47888C6.8086 3.21509 7.5473 3.07303 8.29395 3.05888C9.24895 3.00488 9.56295 3.00488 12.002 3.00488C14.482 3.00488 14.767 3.01788 15.712 3.05888C16.4605 3.07315 17.2012 3.21519 17.902 3.47888C19.1103 3.94759 20.0658 4.90276 20.535 6.11088C20.8021 6.82008 20.9445 7.57014 20.956 8.32788C21.012 9.28588 21.012 9.59889 21.012 12.0389C21.012 14.4789 20.998 14.7989 20.956 15.7459C20.9411 16.4941 20.799 17.2343 20.536 17.9349C20.0656 19.1426 19.11 20.0975 17.902 20.5669C17.2022 20.8291 16.4631 20.9708 15.716 20.9859C14.761 21.0409 14.448 21.0409 12.002 21.0409ZM11.968 4.58788C9.52195 4.58788 9.26795 4.59988 8.31295 4.64288C7.74294 4.65044 7.17843 4.75563 6.64395 4.95388C5.85471 5.25589 5.23018 5.87788 4.92495 6.66588C4.72517 7.20618 4.61996 7.77686 4.61395 8.35288C4.56095 9.32188 4.56095 9.57588 4.56095 12.0049C4.56095 14.4049 4.56995 14.6959 4.61395 15.6589C4.62291 16.2291 4.72805 16.7937 4.92495 17.3289C5.23063 18.1164 5.85505 18.7379 6.64395 19.0399C7.17807 19.2395 7.7428 19.3447 8.31295 19.3509C9.28095 19.4069 9.53595 19.4069 11.968 19.4069C14.421 19.4069 14.675 19.3949 15.622 19.3509C16.1924 19.344 16.7573 19.2388 17.292 19.0399C18.0764 18.7353 18.6969 18.1152 19.002 17.3309C19.2014 16.7902 19.3065 16.2192 19.313 15.6429H19.324C19.367 14.6869 19.367 14.4319 19.367 11.9889C19.367 9.54589 19.356 9.28888 19.313 8.33388C19.304 7.76434 19.1988 7.2004 19.002 6.66588C18.6976 5.88046 18.077 5.25918 17.292 4.95388C16.7574 4.75463 16.1924 4.64941 15.622 4.64288C14.655 4.58788 14.402 4.58788 11.968 4.58788ZM12.002 16.6239C10.1319 16.6251 8.44537 15.4996 7.72882 13.7724C7.01226 12.0451 7.40686 10.0562 8.72858 8.73335C10.0503 7.41048 12.0388 7.01416 13.7667 7.72922C15.4946 8.44428 16.6215 10.1299 16.622 11.9999C16.6192 14.551 14.553 16.6189 12.002 16.6239ZM12.002 8.99788C10.3451 8.99788 9.00195 10.3411 9.00195 11.9979C9.00195 13.6548 10.3451 14.9979 12.002 14.9979C13.6588 14.9979 15.002 13.6548 15.002 11.9979C14.9981 10.3426 13.6572 9.00173 12.002 8.99788ZM16.802 8.28489C16.2074 8.28268 15.7269 7.79947 15.728 7.20489C15.7291 6.61031 16.2114 6.12889 16.806 6.12889C17.4005 6.12889 17.8828 6.6103 17.884 7.20488C17.8842 7.49175 17.7702 7.76691 17.5672 7.96956C17.3642 8.17222 17.0888 8.28568 16.802 8.28489Z'
												
											/>
										</svg>
									</div>{" "}
								</a>
							</Link>
							<Link href={writer.attributes.linkedin}>
								<a>
									<div>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='currentColor'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M13 21H9V9H13V11C13.8526 9.91525 15.1456 9.26857 16.525 9.237C19.0056 9.25077 21.0072 11.2694 21 13.75V21H17V14.25C16.84 13.1326 15.8818 12.3036 14.753 12.306C14.2593 12.3216 13.7932 12.5378 13.4624 12.9046C13.1316 13.2715 12.9646 13.7573 13 14.25V21ZM7 21H3V9H7V21ZM5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5C7 5.53043 6.78929 6.03914 6.41421 6.41421C6.03914 6.78929 5.53043 7 5 7Z'
												
											/>
										</svg>
									</div>{" "}
								</a>
							</Link>
							<Link href={writer.attributes.github}>
								<a>
									<div>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='currentColor'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M12.026 2C7.13295 1.99937 2.96183 5.54799 2.17842 10.3779C1.395 15.2079 4.23061 19.893 8.87302 21.439C9.37302 21.529 9.55202 21.222 9.55202 20.958C9.55202 20.721 9.54402 20.093 9.54102 19.258C6.76602 19.858 6.18002 17.92 6.18002 17.92C5.99733 17.317 5.60459 16.7993 5.07302 16.461C4.17302 15.842 5.14202 15.856 5.14202 15.856C5.78269 15.9438 6.34657 16.3235 6.66902 16.884C6.94195 17.3803 7.40177 17.747 7.94632 17.9026C8.49087 18.0583 9.07503 17.99 9.56902 17.713C9.61544 17.207 9.84055 16.7341 10.204 16.379C7.99002 16.128 5.66202 15.272 5.66202 11.449C5.64973 10.4602 6.01691 9.5043 6.68802 8.778C6.38437 7.91731 6.42013 6.97325 6.78802 6.138C6.78802 6.138 7.62502 5.869 9.53002 7.159C11.1639 6.71101 12.8882 6.71101 14.522 7.159C16.428 5.868 17.264 6.138 17.264 6.138C17.6336 6.97286 17.6694 7.91757 17.364 8.778C18.0376 9.50423 18.4045 10.4626 18.388 11.453C18.388 15.286 16.058 16.128 13.836 16.375C14.3153 16.8651 14.5612 17.5373 14.511 18.221C14.511 19.555 14.499 20.631 14.499 20.958C14.499 21.225 14.677 21.535 15.186 21.437C19.8265 19.8884 22.6591 15.203 21.874 10.3743C21.089 5.54565 16.9181 1.99888 12.026 2Z'
												
											/>
										</svg>
									</div>{" "}
								</a>
							</Link>
							<Link href={writer.attributes.dribbble}>
								<a>
									<div>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='currentColor'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C21.9939 17.5203 17.5203 21.9939 12 22ZM7.12 18.545L7.115 18.555C9.39805 20.2653 12.4093 20.6571 15.054 19.588C14.6749 17.5493 14.113 15.5489 13.375 13.611C11.6799 14.202 10.1302 15.1473 8.829 16.384C8.18773 16.9912 7.63257 17.6833 7.179 18.441L7.172 18.452V18.442L7.154 18.477L7.142 18.497L7.135 18.51L7.118 18.546L7.12 18.545ZM16.779 13.045C16.2867 13.0457 15.7949 13.0791 15.307 13.145C15.9442 14.9255 16.4456 16.7517 16.807 18.608C18.5064 17.383 19.6615 15.5438 20.027 13.481C18.969 13.1891 17.8765 13.0414 16.779 13.042V13.045ZM3.817 11.955V12.011C3.81882 13.9376 4.50052 15.8017 5.742 17.275C7.35028 14.7905 9.72927 12.9023 12.514 11.9L12.633 11.866C12.456 11.475 12.29 11.126 12.124 10.8C9.45593 11.5481 6.6999 11.9365 3.929 11.955H3.817ZM16.466 11.349C17.7068 11.3536 18.9449 11.4667 20.166 11.687C20.1024 9.99541 19.5107 8.3662 18.474 7.028C17.2642 8.38093 15.7585 9.43634 14.074 10.112L14.103 10.1L14.072 10.113C14.251 10.486 14.408 10.835 14.539 11.146C14.57 11.22 14.596 11.284 14.62 11.346L14.661 11.446C15.2603 11.3795 15.863 11.3471 16.466 11.349ZM8.377 4.677C6.20231 5.75037 4.61618 7.73358 4.047 10.091C6.37738 10.055 8.69657 9.76053 10.962 9.213H10.975H10.99L11 9.2L11.054 9.187H11.06L11.1 9.179H11.109H11.116L11.137 9.173L11.177 9.163L11.2 9.153L11.222 9.147H11.232H11.242C9.909 6.8 8.529 4.887 8.376 4.677H8.377ZM12 3.83897C11.4526 3.83762 10.9063 3.88953 10.369 3.994C11.4166 5.44558 12.3779 6.95753 13.248 8.522C14.8061 7.96705 16.1958 7.02157 17.284 5.776C15.8067 4.5266 13.9348 3.84041 12 3.83897Z'
												
											/>
										</svg>
									</div>{" "}
								</a>
							</Link>
							<Link href={writer.attributes.spotify}>
								<a>
									<div>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='currentColor'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M12.0099 22C7.96855 22.0053 4.32316 19.5723 2.77749 15.8383C1.23182 12.1042 2.09116 7.80657 4.95386 4.954C7.47303 2.42574 11.1508 1.43555 14.5988 2.35723C18.0468 3.2789 20.74 5.97206 21.6617 9.42008C22.5834 12.8681 21.5932 16.5458 19.0649 19.065C17.1996 20.9462 14.6592 22.0031 12.0099 22ZM10.5279 15.272C12.3656 15.2337 14.177 15.7133 15.7549 16.656C15.8522 16.7213 15.9667 16.7561 16.0839 16.756C16.2974 16.7506 16.4938 16.6378 16.6059 16.456C16.6932 16.2875 16.7083 16.0909 16.6479 15.911C16.5968 15.7742 16.4904 15.6653 16.3549 15.611C14.5783 14.5542 12.5406 14.0175 10.4739 14.062C9.19159 14.0718 7.91427 14.2224 6.66486 14.511C6.33729 14.5983 6.13812 14.9298 6.21486 15.26C6.2922 15.5265 6.52886 15.7155 6.80586 15.732C6.85902 15.7318 6.91188 15.7241 6.96286 15.709C8.1312 15.431 9.32696 15.2844 10.5279 15.272ZM10.3379 12.296C12.5862 12.2695 14.8009 12.8429 16.7539 13.957C16.8652 14.0379 16.9993 14.0813 17.1369 14.081C17.4064 14.0705 17.6546 13.9319 17.8049 13.708C17.9223 13.5367 17.9589 13.3226 17.9049 13.122C17.8683 12.9481 17.7592 12.7982 17.6049 12.71C15.3966 11.4347 12.8868 10.7748 10.3369 10.799C8.99262 10.7908 7.65443 10.9794 6.36486 11.359C5.96862 11.4894 5.74735 11.9107 5.86486 12.311C5.96296 12.6345 6.26824 12.8499 6.60586 12.834C6.67763 12.8347 6.7492 12.8263 6.81886 12.809C7.95865 12.4587 9.14551 12.2857 10.3379 12.296ZM10.5269 9.208C13.0909 9.13404 15.6309 9.71938 17.9039 10.908C18.0571 10.9917 18.2293 11.0348 18.4039 11.033C18.714 11.0395 19.0095 10.9017 19.2039 10.66C19.3248 10.4388 19.3563 10.1797 19.2919 9.936C19.2317 9.69286 19.074 9.48526 18.8559 9.362C16.2927 7.99965 13.4207 7.32309 10.5189 7.398C8.91209 7.38147 7.3108 7.58811 5.76086 8.012C5.3255 8.14664 5.05557 8.58113 5.12775 9.03109C5.19994 9.48105 5.59223 9.8093 6.04786 9.801C6.13657 9.80108 6.22483 9.78828 6.30986 9.763C7.68114 9.37421 9.10167 9.18691 10.5269 9.207V9.208Z'
												
											/>
										</svg>
									</div>{" "}
								</a>
							</Link>
						</div>
					</div>

					<Footer/>
					
				</div>
			</div>
		</>
	);
};
export async function getStaticPaths() {
	const categoriesRes = await fetchAPI("/writers", { fields: ["slug"] });

	return {
		paths: categoriesRes.data.map((writer) => ({
			params: {
				slug: writer.attributes.slug,
			},
		})),
		fallback: false,
	};
}

export async function getStaticProps({ params }) {
	const matchingWriter = await fetchAPI("/writers", {
		filters: { slug: params.slug },
		populate: ["picture"],
	});

	return {
		props: {
			writer: matchingWriter.data[0],
		},
		revalidate: 1,
	};
}

export default Writer;
